pipeline{
    
    agent {
        node 'agent1'
    }
    
    tools {
        git 'Default'
        maven 'apache-maven-3.6.3'
        jdk   'jdk1.8.0_202'
    }
    
    stages{
           stage('validate'){
               steps{
	    	   dir('mvn-project'){
	    		bat 'mvn validate'
		   }
               }
            
            }
            stage('Compile'){
                steps{
                    dir('mvn-project'){
                      bat 'mvn compile'
                    }                
                        
                }
            }
            stage('Test'){
                steps{
                    dir('mvn-project'){
                       bat 'mvn test'
                    }    
                }    
            }
            stage('Package'){
                steps{
                    dir('mvn-project'){
                       bat 'mvn package'
                    }
                }
            }
            stage('Verify'){
                steps{
                    dir('mvn-project'){
                       bat 'mvn verify'
                    }
                }
            }
    }
}
